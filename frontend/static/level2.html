<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Routing</title>
        <link rel="stylesheet" href="./css/index.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap"
            rel="stylesheet"
        />
    </head>
    <body id="body">
        <nav id="nav-bar">
            BLUEVULPE
            <span class="badge bg-dark">üîÑ</span>
        </nav>
        <!--Î°úÍ∑∏Ïù∏Ï∞Ω-->
        <div class="login-black-bg">
            <div class="white-bg">
                <form id="login-form" action="success.html">
                    <div>
                        <input placeholder="id" class="user-id" type="text" />
                    </div>
                    <div>
                        <input
                            placeholder="pw"
                            class="user-password"
                            type="password"
                        />
                    </div>
                    <button id="login-send" type="submit">Ï†ÑÏÜ°</button>
                    <button id="login-close" type="button">Îã´Í∏∞</button>
                </form>
            </div>
        </div>

        <!--ÌöåÏõêÍ∞ÄÏûÖÏ∞Ω-->
        <div class="join-black-bg">
            <div class="white-bg">
                <form id="join-form">
                    <div>
                        <input placeholder="id" class="user-id" type="text" />
                    </div>
                    <div>
                        <input
                            placeholder="pw"
                            class="join-user-password"
                            type="password"
                        />
                    </div>
                    <div>
                        <input
                            placeholder="email"
                            class="join-user-email"
                            type="text"
                        />
                    </div>
                    <div>
                        <input
                            placeholder="phone"
                            class="join-user-phone"
                            type="text"
                        />
                    </div>
                    <div>
                        <input
                            placeholder="address"
                            class="join-user-address"
                            type="text"
                        />
                    </div>
                    <button id="join-send" type="submit">Ï†ÑÏÜ°</button>
                    <button id="join-close" type="button">Îã´Í∏∞</button>
                </form>
            </div>
        </div>

        <div class="main-bg">
            <div class="title-01">Goods on Sale</div>
            <button class="btn1">Î°úÍ∑∏Ïù∏</button>
            <button class="btn2">ÌöåÏõêÍ∞ÄÏûÖ</button>
        </div>
        <div style="overflow: hidden">
            <div class="slide-container">
                <div class="slide-box"><img src="./img/car1.png" /></div>
                <div class="slide-box"><img src="./img/car2.png" /></div>
                <div class="slide-box"><img src="./img/car3.png" /></div>
            </div>
        </div>
        <button class="next-button">ÎàåÎü¨Î¥ê</button>

        <div class="danger-alert">5Ï¥à Ïù¥ÎÇ¥ Íµ¨Îß§Ïãú ÏÇ¨ÏùÄÌíà Ï¶ùÏ†ï!</div>

        <div class="copyright">Copyright‚ìíbluevulpe</div>

        <script>
            document
                .querySelector(".login-black-bg")
                .addEventListener("click", function (e) {
                    // console.log(e.target); // Ïú†Ï†ÄÍ∞Ä Ïã§Ï†úÎ°ú ÎàÑÎ•∏Í±∞
                    // console.log(e.currentTarget); //Ïù¥Î≤§Ìä∏Î¶¨Ïä§ÎÑàÍ∞Ä Îã¨Î¶∞Í≥≥
                    // console.log(this); // Ïù¥Î≤§Ìä∏Î¶¨Ïä§ÎÑàÍ∞Ä Îã¨Î¶∞Í≥≥
                    // e.preventDefault(); // eÏù¥Î≤§Ìä∏Í∞Ä Ïã§ÌñâÏïàÎêòÍ≤å Ìï¥Ï§å
                    // e.stopPropagation(); // ÎÇ¥ ÏÉÅÏúÑ ÏöîÏÜåÎ°ú Ïù¥Î≤§Ìä∏ Î≤ÑÎ∏îÎßÅ ÎßâÏïÑÏ§å
                    console.log(e.target);
                    console.log(document.querySelector(".login-black-bg"));

                    if (e.target == document.querySelector(".login-black-bg")) {
                        show(".login-black-bg", "hidden");
                    }
                });

            var ÏßÄÍ∏àÏÇ¨ÏßÑ = 1;
            function changeSlide(photo) {
                document.querySelector(".slide-container").style.transform =
                    "translateX(-" + photo + "vw)";
            }

            document
                .querySelector(".next-button")
                .addEventListener("click", event => {
                    console.log(
                        document.querySelector(".slide-container")
                            .childElementCount
                    );
                    if (
                        document.querySelector(".slide-container")
                            .childElementCount != ÏßÄÍ∏àÏÇ¨ÏßÑ
                    ) {
                        changeSlide(`${ÏßÄÍ∏àÏÇ¨ÏßÑ}00`);
                        ÏßÄÍ∏àÏÇ¨ÏßÑ++;
                    } else {
                        changeSlide(0);
                        ÏßÄÍ∏àÏÇ¨ÏßÑ = 1;
                    }
                });

            document
                .querySelector("#join-form")
                .addEventListener("submit", event => {
                    user_password = document.querySelector(
                        ".join-user-password"
                    ).value;
                    user_email =
                        document.querySelector(".join-user-email").value;
                    document
                        .querySelector("#join-send")
                        .addEventListener("click", function () {
                            if (/\S+@\S+\.\S+/.test(user_email) == false) {
                                alert("ÏûòÎ™ªÎêú Ïù¥Î©îÏùºÌòïÏãùÏûÖÎãàÎã§.");
                            }

                            if (/[A-Z]/.test(user_password) == false) {
                                alert(
                                    "Ìå®Ïä§ÏõåÎìúÏóê ÎåÄÎ¨∏Ïûê ÏµúÏÜå 1Í∞úÏù¥ÏÉÅ ÎÑ£Ïñ¥Ï£ºÏÑ∏Ïöî."
                                );
                            }
                        });

                    event.preventDefault();
                });

            setInterval(ÏãúÍ∞ÑÏ§ÑÏù¥Í∏∞, 1000);
            let time = 5;
            function ÏãúÍ∞ÑÏ§ÑÏù¥Í∏∞() {
                if (time == 0) {
                    document.querySelector(".danger-alert").style.display =
                        "none";
                }
                document.querySelector(".danger-alert").innerHTML =
                    time + "Ï¥à Ïù¥ÎÇ¥ Íµ¨Îß§Ïãú ÏÇ¨ÏùÄÌíà Ï¶ùÏ†ï!";
                time--;
            }
            var count = 0;
            document
                .querySelector(".badge")
                .addEventListener("click", function () {
                    count++;
                    console.log(count);
                    if (count % 2 == 0) {
                        document.querySelector("#nav-bar").style.color =
                            "white";
                        document.querySelector(".copyright").style.color =
                            "white";
                        document.querySelector(".title-01").style.color =
                            "white";
                        document
                            .querySelector("#body")
                            .classList.add("darkmode");
                        document
                            .querySelector("#nav-bar")
                            .classList.add("darkmode");
                    } else {
                        document.querySelector("#nav-bar").style.color =
                            "black";
                        document.querySelector(".copyright").style.color =
                            "black";

                        document.querySelector(".title-01").style.color =
                            "black";
                        document
                            .querySelector("#body")
                            .classList.remove("darkmode");
                        document
                            .querySelector("#nav-bar")
                            .classList.remove("darkmode");
                    }
                });

            var show = function (parm, opt) {
                document.querySelector(parm).style.visibility = opt;
            };

            document.querySelector(".btn1").onclick = function () {
                show(".login-black-bg", "visible");
            };

            document.querySelector("#login-close").onclick = function () {
                show(".login-black-bg", "hidden");
            };

            document.querySelector("#login-close").onclick = function () {
                show(".login-black-bg", "hidden");
            };

            document.querySelector(".btn2").onclick = function () {
                show(".join-black-bg", "visible");
            };

            document.querySelector("#join-close").onclick = function () {
                show(".join-black-bg", "hidden");
            };

            document
                .querySelector("#login-form")
                .addEventListener("submit", event => {
                    if (document.querySelector(".user-id").value.length == 0) {
                        alert("idÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî");
                    } else if (
                        document.querySelector(".user-password").value.length ==
                        0
                    ) {
                        alert("ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî");
                    }

                    event.preventDefault(); /*formÏ†ÑÏÜ°Ïãú */
                    user_id = document.querySelector(".user-id").value;
                    user_pw = document.querySelector(".user-password").value;

                    if (window.localStorage.getItem(user_id) == null) {
                        alert("Ï°¥Ïû¨ÌïòÏßÄ ÏïäÎäî idÏûÖÎãàÎã§.");
                    } else if (
                        window.localStorage.getItem(user_id) != user_pw
                    ) {
                        alert("ÏùºÏπòÌïòÏßÄ ÏïäÎäî pwÏûÖÎãàÎã§.");
                    } else {
                        location.href = "success.html";
                    }

                    console.log(window.localStorage.getItem(user_id));
                });
        </script>
    </body>
</html>
