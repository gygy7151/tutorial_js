<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Routing</title>
        <link rel="stylesheet" href="./css/index.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap"
            rel="stylesheet"
        />
    </head>
    <body id="body">
        <nav id="nav-bar">
            BLUEVULPE
            <span class="badge bg-dark">ğŸ”„</span>
        </nav>
        <!--ë¡œê·¸ì¸ì°½-->
        <div class="login-black-bg">
            <div class="white-bg">
                <form id="login-form" action="success.html">
                    <div>
                        <input placeholder="id" class="user-id" type="text" />
                    </div>
                    <div>
                        <input
                            placeholder="pw"
                            class="user-password"
                            type="password"
                        />
                    </div>
                    <button id="login-send" type="submit">ì „ì†¡</button>
                    <button id="login-close" type="button">ë‹«ê¸°</button>
                </form>
            </div>
        </div>

        <!--íšŒì›ê°€ì…ì°½-->
        <div class="join-black-bg">
            <div class="white-bg">
                <form id="join-form">
                    <div>
                        <input placeholder="id" class="user-id" type="text" />
                    </div>
                    <div>
                        <input
                            placeholder="pw"
                            class="join-user-password"
                            type="password"
                        />
                    </div>
                    <div>
                        <input
                            placeholder="email"
                            class="join-user-email"
                            type="text"
                        />
                    </div>
                    <div>
                        <input
                            placeholder="phone"
                            class="join-user-phone"
                            type="text"
                        />
                    </div>
                    <div>
                        <input
                            placeholder="address"
                            class="join-user-address"
                            type="text"
                        />
                    </div>
                    <button id="join-send" type="submit">ì „ì†¡</button>
                    <button id="join-close" type="button">ë‹«ê¸°</button>
                </form>
            </div>
        </div>

        <div class="main-bg">
            <div class="title-01">Goods on Sale</div>
            <button class="btn1">ë¡œê·¸ì¸</button>
            <button class="btn2">íšŒì›ê°€ì…</button>
        </div>
        <div style="overflow: hidden">
            <div class="slide-container">
                <div class="slide-box"><img src="./img/car1.png" /></div>
                <div class="slide-box"><img src="./img/car2.png" /></div>
                <div class="slide-box"><img src="./img/car3.png" /></div>
            </div>
        </div>
        <button class="next-button">ëˆŒëŸ¬ë´</button>

        <div class="danger-alert">5ì´ˆ ì´ë‚´ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆ ì¦ì •!</div>

        <div class="copyright">Copyrightâ“’bluevulpe</div>

        <script>
            document
                .querySelector(".login-black-bg")
                .addEventListener("click", function (e) {
                    // console.log(e.target); // ìœ ì €ê°€ ì‹¤ì œë¡œ ëˆ„ë¥¸ê±°
                    // console.log(e.currentTarget); //ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆê°€ ë‹¬ë¦°ê³³
                    // console.log(this); // ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆê°€ ë‹¬ë¦°ê³³
                    // e.preventDefault(); // eì´ë²¤íŠ¸ê°€ ì‹¤í–‰ì•ˆë˜ê²Œ í•´ì¤Œ
                    // e.stopPropagation(); // ë‚´ ìƒìœ„ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë§‰ì•„ì¤Œ
                    console.log(e.target);
                    console.log(document.querySelector(".login-black-bg"));

                    if (e.target == document.querySelector(".login-black-bg")) {
                        show(".login-black-bg", "hidden");
                    }
                });

            var ì§€ê¸ˆì‚¬ì§„ = 1;
            function changeSlide(photo) {
                document.querySelector(".slide-container").style.transform =
                    "translateX(-" + photo + "vw)";
            }

            document
                .querySelector(".next-button")
                .addEventListener("click", event => {
                    console.log(
                        document.querySelector(".slide-container")
                            .childElementCount
                    );
                    if (
                        document.querySelector(".slide-container")
                            .childElementCount != ì§€ê¸ˆì‚¬ì§„
                    ) {
                        changeSlide(`${ì§€ê¸ˆì‚¬ì§„}00`);
                        ì§€ê¸ˆì‚¬ì§„++;
                    } else {
                        changeSlide(0);
                        ì§€ê¸ˆì‚¬ì§„ = 1;
                    }
                });

            document
                .querySelector("#join-form")
                .addEventListener("submit", event => {
                    user_password = document.querySelector(
                        ".join-user-password"
                    ).value;
                    user_email =
                        document.querySelector(".join-user-email").value;
                    document
                        .querySelector("#join-send")
                        .addEventListener("click", function () {
                            if (/\S+@\S+\.\S+/.test(user_email) == false) {
                                alert("ì˜ëª»ëœ ì´ë©”ì¼í˜•ì‹ì…ë‹ˆë‹¤.");
                            }

                            if (/[A-Z]/.test(user_password) == false) {
                                alert(
                                    "íŒ¨ìŠ¤ì›Œë“œì— ëŒ€ë¬¸ì ìµœì†Œ 1ê°œì´ìƒ ë„£ì–´ì£¼ì„¸ìš”."
                                );
                            }
                        });

                    event.preventDefault();
                });

            setInterval(ì‹œê°„ì¤„ì´ê¸°, 1000);
            let time = 5;
            function ì‹œê°„ì¤„ì´ê¸°() {
                if (time == 0) {
                    document.querySelector(".danger-alert").style.display =
                        "none";
                }
                document.querySelector(".danger-alert").innerHTML =
                    time + "ì´ˆ ì´ë‚´ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆ ì¦ì •!";
                time--;
            }
            var count = 0;
            document
                .querySelector(".badge")
                .addEventListener("click", function () {
                    count++;
                    console.log(count);
                    if (count % 2 == 0) {
                        document.querySelector("#nav-bar").style.color =
                            "white";
                        document.querySelector(".copyright").style.color =
                            "white";
                        document.querySelector(".title-01").style.color =
                            "white";
                        document
                            .querySelector("#body")
                            .classList.add("darkmode");
                        document
                            .querySelector("#nav-bar")
                            .classList.add("darkmode");
                    } else {
                        document.querySelector("#nav-bar").style.color =
                            "black";
                        document.querySelector(".copyright").style.color =
                            "black";

                        document.querySelector(".title-01").style.color =
                            "black";
                        document
                            .querySelector("#body")
                            .classList.remove("darkmode");
                        document
                            .querySelector("#nav-bar")
                            .classList.remove("darkmode");
                    }
                });

            var show = function (parm, opt) {
                document.querySelector(parm).style.visibility = opt;
            };

            document.querySelector(".btn1").onclick = function () {
                show(".login-black-bg", "visible");
            };

            document.querySelector("#login-close").onclick = function () {
                show(".login-black-bg", "hidden");
            };

            document.querySelector("#login-close").onclick = function () {
                show(".login-black-bg", "hidden");
            };

            document.querySelector(".btn2").onclick = function () {
                show(".join-black-bg", "visible");
            };

            document.querySelector("#join-close").onclick = function () {
                show(".join-black-bg", "hidden");
            };

            document
                .querySelector("#login-form")
                .addEventListener("submit", event => {
                    if (document.querySelector(".user-id").value.length == 0) {
                        alert("idë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”");
                    } else if (
                        document.querySelector(".user-password").value.length ==
                        0
                    ) {
                        alert("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”");
                    }

                    event.preventDefault(); /*formì „ì†¡ì‹œ */
                    user_id = document.querySelector(".user-id").value;
                    user_pw = document.querySelector(".user-password").value;

                    if (window.localStorage.getItem(user_id) == null) {
                        alert("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” idì…ë‹ˆë‹¤.");
                    } else if (
                        window.localStorage.getItem(user_id) != user_pw
                    ) {
                        alert("ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” pwì…ë‹ˆë‹¤.");
                    } else {
                        location.href = "success.html";
                    }

                    console.log(window.localStorage.getItem(user_id));
                });
        </script>
    </body>
</html>
